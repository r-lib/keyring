<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Access the System Credential Store from R • keyring</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/Source_Sans_Pro-0.4.9/font.css" rel="stylesheet">
<link href="deps/Source_Code_Pro-0.4.9/font.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Access the System Credential Store from R">
<meta name="description" content="Platform independent API to access the operating systems credential store. Currently supports: Keychain on macOS, Credential Store on Windows, the Secret Service API on Linux', and simple, platform independent stores implemented with environment variables or encrypted files. Additional storage back-ends can be added easily.">
<meta property="og:description" content="Platform independent API to access the operating systems credential store. Currently supports: Keychain on macOS, Credential Store on Windows, the Secret Service API on Linux', and simple, platform independent stores implemented with environment variables or encrypted files. Additional storage back-ends can be added easily.">
<meta name="robots" content="noindex">
</head>
<body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">keyring</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.3.2.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/r-lib/keyring/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="keyring">keyring<a class="anchor" aria-label="anchor" href="#keyring"></a>
</h1></div>
<!-- badges: start -->

<!-- badges: end -->
<p>keyring provides a way to securely manage secrets using your operating system’s credential store. Once a secret is defined, it persists in a “keyring” across multiple R sessions. keyring is an alternative to using environment variables that’s a bit more secure because your secret is never stored in plain text, meaning that you can for instance never accidentally upload it to GitHub. For more security, you can also store secrets in a custom keyring that always requires a password to unlock.</p>
<p>keyring currently supports:</p>
<ul>
<li>The macOS Keychain (<code>backend_macos</code>).</li>
<li>The Windows Credential Store (<code>backend_wincred</code>).</li>
<li>The Linux Secret Service API (<code>backend_secret_service</code>).</li>
</ul>
<p>It also provides two backends that are available on all platforms:</p>
<ul>
<li>Encrypted files (<code>backend_file</code>)</li>
<li>Environment variables (<code>backend_env</code>).</li>
</ul>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Install the package from CRAN:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("pak")</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="st">"keyring"</span><span class="op">)</span></span></code></pre></div>
<p>We recommend using pak to install keyring as it will ensure that Linux system requirements are automatically installed (for instance Ubuntu requires <code>libsecret-1-dev</code>, <code>libssl-dev</code>, and <code>libsodium-dev</code>).</p>
<p>To install the development version from GitHub, use:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="st">"r-lib/keyring"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>The simplest usage only requires <code><a href="reference/key_get.html">key_set()</a></code> and <code><a href="reference/key_get.html">key_get()</a></code>:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Interactively save a secret. This avoids typing the value of the secret</span></span>
<span><span class="co"># into the console as this could be recorded in your `.Rhistory`</span></span>
<span><span class="fu"><a href="reference/key_get.html">key_set</a></span><span class="op">(</span><span class="st">"secret-name"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Later retrieve that secret</span></span>
<span><span class="fu"><a href="reference/key_get.html">key_get</a></span><span class="op">(</span><span class="st">"secret-name"</span><span class="op">)</span></span></code></pre></div>
<p>Each secret is associated with a keyring. By default, keyring will use the OS keyring (see <code><a href="reference/backends.html">default_backend()</a></code> for details), which is automatically unlocked when you log into your computer account. That means while the secret is stored securely, it can be accessed by other processes.</p>
<p>If you want greater security you can create a custom keyring that you manually lock and unlock. That will require you to enter a custom password every time you want to access your secret.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/has_keyring_support.html">keyring_create</a></span><span class="op">(</span><span class="st">"mypackage"</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/key_get.html">key_set</a></span><span class="op">(</span><span class="st">"secret-name"</span>, keyring <span class="op">=</span> <span class="st">"mypackage"</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/key_get.html">key_get</a></span><span class="op">(</span><span class="st">"secret-name"</span>, keyring <span class="op">=</span> <span class="st">"mypackage"</span><span class="op">)</span></span></code></pre></div>
<p>Accessing the key unlocks the keyring, so if you’re being really careful, you might want to lock it after you’ve retrieved the value with <code><a href="reference/has_keyring_support.html">keyring_lock()</a></code>.</p>
<div class="section level3">
<h3 id="github">GitHub<a class="anchor" aria-label="anchor" href="#github"></a>
</h3>
<p>When you use keyring on GitHub, it will fall back to the environment variable backend. That means if you want to use <code>key_get("mysecret")</code> you need to do two things:</p>
<ul>
<li><p>Add a <a href="https://docs.github.com/en/actions/security-guides/using-secrets-in-github-actions#creating-secrets-for-a-repository" class="external-link">new action secret</a> to your repository.</p></li>
<li>
<p>Make the secret available in your workflow <code>.yml</code>, for instance</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="at">    </span><span class="fu">env</span><span class="kw">:</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="at">      </span><span class="fu">GITHUB_PAT</span><span class="kw">:</span><span class="at"> ${{ secrets.GITHUB_TOKEN }}</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a><span class="at">      </span><span class="fu">R_KEEP_PKG_SOURCE</span><span class="kw">:</span><span class="at"> </span><span class="ch">yes</span></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a><span class="at">      </span><span class="fu">MY_SECRET</span><span class="kw">:</span><span class="at"> ${{ secrets.my_secret }}</span></span></code></pre></div>
</li>
</ul>
<p>The envvar backend doesn’t support custom keyrings, so if you’re using one locally you’ll need to use the default keyring on GitHub.</p>
</div>
</div>
<div class="section level2">
<h2 id="development-documentation">Development documentation<a class="anchor" aria-label="anchor" href="#development-documentation"></a>
</h2>
<p>Please see our <a href="https://github.com/r-lib/keyring/blob/main/inst/development-notes.md" class="external-link">writeup of some <code>keyring</code> internals</a>, and as always, use the source code.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=keyring" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/r-lib/keyring/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/r-lib/keyring/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing keyring</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://github.com/gaborcsardi" class="external-link">Gábor Csárdi</a> <br><small class="roles"> Author, maintainer </small>  </li>
<li>
<a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a> <br><small class="roles"> Copyright holder, funder </small>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/r-lib/keyring/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/r-lib/keyring/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://www.r-pkg.org/pkg/keyring" class="external-link"><img src="https://www.r-pkg.org/badges/version/keyring"></a></li>
<li><a href="https://www.r-pkg.org/pkg/keyring" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/keyring" alt="CRAN RStudio mirror downloads"></a></li>
<li><a href="https://app.codecov.io/gh/r-lib/keyring?branch=main" class="external-link"><img src="https://codecov.io/gh/r-lib/keyring/branch/main/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>

  </aside>
</div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/gaborcsardi" class="external-link">Gábor Csárdi</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

  </div></footer>
</body>
</html>
