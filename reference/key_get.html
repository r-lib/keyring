<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Operations on keys — key_get • keyring</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Operations on keys — key_get" />
<meta property="og:description" content="These functions manipulate keys in a keyring. You can think of a keyring
as a secure key-value store." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">keyring</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/r-lib/keyring/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Operations on keys</h1>
    <small class="dont-index">Source: <a href='https://github.com/r-lib/keyring/blob/master/R/api.R'><code>R/api.R</code></a></small>
    <div class="hidden name"><code>key_get.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>These functions manipulate keys in a keyring. You can think of a keyring
as a secure key-value store.</p>
    </div>

    <pre class="usage"><span class='fu'>key_get</span><span class='op'>(</span><span class='va'>service</span>, username <span class='op'>=</span> <span class='cn'>NULL</span>, keyring <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>

<span class='fu'>key_get_raw</span><span class='op'>(</span><span class='va'>service</span>, username <span class='op'>=</span> <span class='cn'>NULL</span>, keyring <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>

<span class='fu'>key_set</span><span class='op'>(</span><span class='va'>service</span>, username <span class='op'>=</span> <span class='cn'>NULL</span>, keyring <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>

<span class='fu'>key_set_with_value</span><span class='op'>(</span><span class='va'>service</span>, username <span class='op'>=</span> <span class='cn'>NULL</span>, password <span class='op'>=</span> <span class='cn'>NULL</span>, keyring <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>

<span class='fu'>key_set_with_raw_value</span><span class='op'>(</span>
  <span class='va'>service</span>,
  username <span class='op'>=</span> <span class='cn'>NULL</span>,
  password <span class='op'>=</span> <span class='cn'>NULL</span>,
  keyring <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span>

<span class='fu'>key_delete</span><span class='op'>(</span><span class='va'>service</span>, username <span class='op'>=</span> <span class='cn'>NULL</span>, keyring <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>

<span class='fu'>key_list</span><span class='op'>(</span>service <span class='op'>=</span> <span class='cn'>NULL</span>, keyring <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>service</th>
      <td><p>Service name, a character scalar.</p></td>
    </tr>
    <tr>
      <th>username</th>
      <td><p>Username, a character scalar, or <code>NULL</code> if the key
is not associated with a username.</p></td>
    </tr>
    <tr>
      <th>keyring</th>
      <td><p>For systems that support multiple keyrings, specify
the name of the keyring to use here. If <code>NULL</code>, then the default
keyring is used. See also <code><a href='has_keyring_support.html'>has_keyring_support()</a></code>.</p></td>
    </tr>
    <tr>
      <th>password</th>
      <td><p>The secret to store. For <code>key_set</code>, it is read from
the console, interactively. <code>key_set_with_value</code> can be also used
in non-interactive mode.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>key_get</code> returns a character scalar, the password or other
confidential information that was stored in the key.</p>
<p><code>key_list</code> returns a list of keys, i.e. service names and usernames,
in a data frame.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>key_get</code> queries a key from the keyring.</p>
<p><code>key_get_raw</code> queries a key and returns it as a raw vector.
Most credential stores allow storing a byte sequence with embedded null
bytes, and these cannot be represented as traditional null bytes
terminated strings. If you don't know whether the key contains an
embedded null, it is best to query it with <code>key_get_raw</code> instead of
<code>key_get</code>.</p>
<p><code>key_set</code> sets a key in the keyring. The contents of the key is read
interactively from the terminal.</p>
<p><code>key_set_with_value</code> is the non-interactive pair of <code>key_set</code>, to set
a key in the keyring.</p>
<p><code>key_set_raw_with_value</code> sets a key to a byte sequence from a raw
vector.</p>
<p><code>key_delete</code> deletes a key.</p>
<p><code>key_list</code> lists all keys of a keyring, or the keys for a certain
service (if <code>service</code> is not <code>NULL</code>).</p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Encodings</h3>


<p>On Windows, if required, an encoding can be specified using either
an R option (<code>keyring.encoding_windows</code>) or environment variable
(<code>KEYRING_ENCODING_WINDOWS</code>). This will be applied when both
getting and setting keys. The option takes precedence over the
environment variable, if both are set.</p>
<p>This is reserved primarily for compatibility with keys set with
other software, such as Python's implementation of keyring. For a
list of encodings, use <code><a href='https://rdrr.io/r/base/iconv.html'>iconvlist()</a></code>, although it should be noted
that not <em>every</em> encoding can be properly converted, even for
trivial cases. For best results, use UTF-8 if you can.</p>


    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># These examples use the default keyring, and they are interactive,</span>
<span class='co'># so, we don't run them by default</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='fu'>key_set</span><span class='op'>(</span><span class='st'>"R-keyring-test-service"</span>, <span class='st'>"donaldduck"</span><span class='op'>)</span>
<span class='fu'>key_get</span><span class='op'>(</span><span class='st'>"R-keyring-test-service"</span>, <span class='st'>"donaldduck"</span><span class='op'>)</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='fu'><a href='has_keyring_support.html'>has_keyring_support</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span> <span class='fu'>key_list</span><span class='op'>(</span>service <span class='op'>=</span> <span class='st'>"R-keyring-test-service"</span><span class='op'>)</span>
<span class='fu'>key_delete</span><span class='op'>(</span><span class='st'>"R-keyring-test-service"</span>, <span class='st'>"donaldduck"</span><span class='op'>)</span>

<span class='co'>## This is non-interactive, assuming that that default keyring</span>
<span class='co'>## is unlocked</span>
<span class='fu'>key_set_with_value</span><span class='op'>(</span><span class='st'>"R-keyring-test-service"</span>, <span class='st'>"donaldduck"</span>,
                   password <span class='op'>=</span> <span class='st'>"secret"</span><span class='op'>)</span>
<span class='fu'>key_get</span><span class='op'>(</span><span class='st'>"R-keyring-test-service"</span>, <span class='st'>"donaldduck"</span><span class='op'>)</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='fu'><a href='has_keyring_support.html'>has_keyring_support</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span> <span class='fu'>key_list</span><span class='op'>(</span>service <span class='op'>=</span> <span class='st'>"R-keyring-test-service"</span><span class='op'>)</span>
<span class='fu'>key_delete</span><span class='op'>(</span><span class='st'>"R-keyring-test-service"</span>, <span class='st'>"donaldduck"</span><span class='op'>)</span>

<span class='co'>## This is interactive using backend_file</span>
<span class='co'>## Set variables to be used in keyring</span>
<span class='va'>kr_name</span> <span class='op'>&lt;-</span> <span class='st'>"my_keyring"</span>
<span class='va'>kr_service</span> <span class='op'>&lt;-</span> <span class='st'>"my_database"</span>
<span class='va'>kr_username</span> <span class='op'>&lt;-</span> <span class='st'>"my_username"</span>

<span class='co'>## Create a keyring and add an entry using the variables above</span>
<span class='va'>kb</span> <span class='op'>&lt;-</span> <span class='fu'>keyring</span><span class='fu'>::</span><span class='va'><a href='backend_file.html'>backend_file</a></span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span><span class='op'>)</span>
<span class='co'>## Prompt for the keyring password, used to unlock keyring</span>
<span class='va'>kb</span><span class='op'>$</span><span class='fu'>keyring_create</span><span class='op'>(</span><span class='va'>kr_name</span><span class='op'>)</span>
<span class='co'>## Prompt for the secret/password to be stored in the keyring</span>
<span class='va'>kb</span><span class='op'>$</span><span class='fu'>set</span><span class='op'>(</span><span class='va'>kr_service</span>, username<span class='op'>=</span><span class='va'>kr_username</span>, keyring<span class='op'>=</span><span class='va'>kr_name</span><span class='op'>)</span>
<span class='co'># Lock the keyring</span>
<span class='va'>kb</span><span class='op'>$</span><span class='fu'>keyring_lock</span><span class='op'>(</span><span class='va'>kr_name</span><span class='op'>)</span>

<span class='co'>## The keyring file is stored at ~/.config/r-keyring/ on Linux</span>

<span class='co'>## Output the stored password</span>
<span class='fu'>keyring</span><span class='fu'>::</span><span class='va'><a href='backend_file.html'>backend_file</a></span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span><span class='op'>)</span><span class='op'>$</span><span class='fu'>get</span><span class='op'>(</span>service <span class='op'>=</span> <span class='va'>kr_service</span>,
  user <span class='op'>=</span> <span class='va'>kr_username</span>,
  keyring <span class='op'>=</span> <span class='va'>kr_name</span><span class='op'>)</span>
<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Gábor Csárdi.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


